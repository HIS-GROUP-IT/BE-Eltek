{"version":3,"sources":["../../../src/models/employee/employee.model.ts"],"sourcesContent":["import { Model, DataTypes, Optional, BelongsToManyAddAssociationsMixin } from 'sequelize';\r\nimport sequelize from '@/database/index';\r\nimport Project from '../project/project.model';\r\n\r\ninterface EmployeeAttributes {\r\n  id: number;\r\n  fullName: string;\r\n  email: string;\r\n  phoneNumber: string;\r\n  idNumber: string;\r\n  position: string;\r\n  role: 'employee';\r\n  gender: 'male' | 'female' | 'other';\r\n  race?: string;\r\n  location: string;\r\n  password: string;\r\n  createdBy: number;\r\n \r\n}\r\n\r\ninterface EmployeeCreationAttributes extends Optional<EmployeeAttributes, 'id'> {}\r\n\r\nclass Employee extends Model<EmployeeAttributes, EmployeeCreationAttributes> implements EmployeeAttributes {\r\n  public id!: number;\r\n  public fullName!: string;\r\n  public email!: string;\r\n  public phoneNumber!: string;\r\n  public idNumber!: string;\r\n  public position!: string;\r\n  public role!: 'employee';\r\n  public gender!: 'male' | 'female' | 'other';\r\n  public race?: string;\r\n  public location!: string;\r\n  public password!: string;\r\n  public createdBy!: number;\r\n  public readonly projects?: Project[];\r\n  public projectIds?: number[]; \r\n  public addProjects!: BelongsToManyAddAssociationsMixin<Project, number>;\r\n}\r\n\r\nEmployee.init(\r\n  {\r\n    id: { type: DataTypes.INTEGER, autoIncrement: true, primaryKey: true },\r\n    fullName: { type: DataTypes.STRING, allowNull: false },\r\n    email: {\r\n      type: DataTypes.STRING,\r\n      allowNull: false,\r\n      unique: true,\r\n      validate: { isEmail: true },\r\n    },\r\n    phoneNumber: { type: DataTypes.STRING, allowNull: false },\r\n    idNumber: { type: DataTypes.STRING, allowNull: false, unique: true },\r\n    position: { type: DataTypes.STRING, allowNull: false },\r\n    role: {\r\n      type: DataTypes.ENUM('employee'),\r\n      allowNull: false,\r\n      defaultValue: 'employee',\r\n    },\r\n    gender: {\r\n      type: DataTypes.ENUM('male', 'female', 'other'),\r\n      allowNull: false,\r\n    },\r\n    race: { type: DataTypes.STRING, allowNull: true },\r\n    location: { type: DataTypes.STRING, allowNull: false },\r\n    password: { type: DataTypes.STRING, allowNull: false },\r\n    createdBy: { type: DataTypes.INTEGER, allowNull: false },\r\n  },\r\n  {\r\n    sequelize,\r\n    modelName: 'Employee',\r\n  }\r\n);\r\n\r\nEmployee.belongsToMany(Project, {\r\n  through: 'EmployeeProject',\r\n  as: 'projects',\r\n  foreignKey: 'employeeId'\r\n});\r\n\r\nProject.belongsToMany(Employee, {\r\n  through: 'EmployeeProject',\r\n  as: 'employees',\r\n  foreignKey: 'projectId'\r\n});\r\n\r\nexport default Employee;\r\n"],"names":["Employee","Model","id","fullName","email","phoneNumber","idNumber","position","role","gender","race","location","password","createdBy","projects","projectIds","addProjects","init","type","DataTypes","INTEGER","autoIncrement","primaryKey","STRING","allowNull","unique","validate","isEmail","ENUM","defaultValue","sequelize","modelName","belongsToMany","Project","through","as","foreignKey"],"mappings":";;;;+BAqFA;;;eAAA;;;2BArF8E;8DACxD;qEACF;;;;;;;;;;;;;;;;;;;AAoBpB,IAAA,AAAMA,WAAN,MAAMA,iBAAiBC,gBAAK;;QAA5B,gBACE,uBAAOC,MAAP,KAAA,IACA,uBAAOC,YAAP,KAAA,IACA,uBAAOC,SAAP,KAAA,IACA,uBAAOC,eAAP,KAAA,IACA,uBAAOC,YAAP,KAAA,IACA,uBAAOC,YAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IACA,uBAAOC,UAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IACA,uBAAOC,YAAP,KAAA,IACA,uBAAOC,YAAP,KAAA,IACA,uBAAOC,aAAP,KAAA,IACA,uBAAgBC,YAAhB,KAAA,IACA,uBAAOC,cAAP,KAAA,IACA,uBAAOC,eAAP,KAAA;;AACF;AAEAhB,SAASiB,IAAI,CACX;IACEf,IAAI;QAAEgB,MAAMC,oBAAS,CAACC,OAAO;QAAEC,eAAe;QAAMC,YAAY;IAAK;IACrEnB,UAAU;QAAEe,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAM;IACrDpB,OAAO;QACLc,MAAMC,oBAAS,CAACI,MAAM;QACtBC,WAAW;QACXC,QAAQ;QACRC,UAAU;YAAEC,SAAS;QAAK;IAC5B;IACAtB,aAAa;QAAEa,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAM;IACxDlB,UAAU;QAAEY,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;QAAOC,QAAQ;IAAK;IACnElB,UAAU;QAAEW,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAM;IACrDhB,MAAM;QACJU,MAAMC,oBAAS,CAACS,IAAI,CAAC;QACrBJ,WAAW;QACXK,cAAc;IAChB;IACApB,QAAQ;QACNS,MAAMC,oBAAS,CAACS,IAAI,CAAC,QAAQ,UAAU;QACvCJ,WAAW;IACb;IACAd,MAAM;QAAEQ,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAK;IAChDb,UAAU;QAAEO,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAM;IACrDZ,UAAU;QAAEM,MAAMC,oBAAS,CAACI,MAAM;QAAEC,WAAW;IAAM;IACrDX,WAAW;QAAEK,MAAMC,oBAAS,CAACC,OAAO;QAAEI,WAAW;IAAM;AACzD,GACA;IACEM,WAAAA,cAAS;IACTC,WAAW;AACb;AAGF/B,SAASgC,aAAa,CAACC,qBAAO,EAAE;IAC9BC,SAAS;IACTC,IAAI;IACJC,YAAY;AACd;AAEAH,qBAAO,CAACD,aAAa,CAAChC,UAAU;IAC9BkC,SAAS;IACTC,IAAI;IACJC,YAAY;AACd;MAEA,WAAepC"}