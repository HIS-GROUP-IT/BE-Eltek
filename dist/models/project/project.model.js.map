{"version":3,"sources":["../../../src/models/project/project.model.ts"],"sourcesContent":["import { DataTypes, Model } from 'sequelize';\r\nimport sequelize from '@/database/index';\r\nimport User from '../user/user.model';\r\nimport Employee from '../employee/employee.model';\r\n\r\nclass Project extends Model {\r\n  public id!: number;\r\n  public name!: string;\r\n  public description?: string;\r\n  public status!: 'planned' | 'on going' | 'cancelled' | 'completed' | 'on hold';\r\n  public startDate!: Date;\r\n  public endDate?: Date;\r\n  public createdBy!: number;\r\n  public createdAt?: Date;\r\n  public readonly employees?: Employee[]; \r\n  public updatedAt?: Date;\r\n}\r\n\r\nProject.init(\r\n  {\r\n    id: { type: DataTypes.INTEGER, autoIncrement: true, primaryKey: true },\r\n    name: { \r\n      type: DataTypes.STRING, \r\n      allowNull: false,\r\n      unique: true \r\n    },\r\n    description: { type: DataTypes.TEXT, allowNull: true },\r\n    status: {\r\n      type: DataTypes.ENUM('planned', 'on going', 'cancelled', 'completed', 'on hold'),\r\n      allowNull: false,\r\n      defaultValue: 'planned'\r\n    },\r\n    startDate: {\r\n      type: DataTypes.DATEONLY,\r\n      allowNull: false\r\n    },\r\n    endDate: { \r\n      type: DataTypes.DATEONLY,\r\n      allowNull: true\r\n    },\r\n    createdBy: {\r\n      type: DataTypes.INTEGER,\r\n      allowNull: false,\r\n      references: {\r\n        model: User,\r\n        key: 'id'\r\n      }\r\n    },\r\n  },\r\n  { \r\n    sequelize,\r\n    modelName: 'Project',\r\n    indexes: [\r\n      {\r\n        fields: ['name', 'status']\r\n      }\r\n    ]\r\n  }\r\n);\r\n\r\n\r\n\r\n\r\nexport default Project;\r\n"],"names":["Project","Model","id","name","description","status","startDate","endDate","createdBy","createdAt","employees","updatedAt","init","type","DataTypes","INTEGER","autoIncrement","primaryKey","STRING","allowNull","unique","TEXT","ENUM","defaultValue","DATEONLY","references","model","User","key","sequelize","modelName","indexes","fields"],"mappings":";;;;+BA+DA;;;eAAA;;;2BA/DiC;8DACX;kEACL;;;;;;;;;;;;;;;;;;;AAGjB,IAAA,AAAMA,UAAN,MAAMA,gBAAgBC,gBAAK;;QAA3B,gBACE,uBAAOC,MAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IACA,uBAAOC,eAAP,KAAA,IACA,uBAAOC,UAAP,KAAA,IACA,uBAAOC,aAAP,KAAA,IACA,uBAAOC,WAAP,KAAA,IACA,uBAAOC,aAAP,KAAA,IACA,uBAAOC,aAAP,KAAA,IACA,uBAAgBC,aAAhB,KAAA,IACA,uBAAOC,aAAP,KAAA;;AACF;AAEAX,QAAQY,IAAI,CACV;IACEV,IAAI;QAAEW,MAAMC,oBAAS,CAACC,OAAO;QAAEC,eAAe;QAAMC,YAAY;IAAK;IACrEd,MAAM;QACJU,MAAMC,oBAAS,CAACI,MAAM;QACtBC,WAAW;QACXC,QAAQ;IACV;IACAhB,aAAa;QAAES,MAAMC,oBAAS,CAACO,IAAI;QAAEF,WAAW;IAAK;IACrDd,QAAQ;QACNQ,MAAMC,oBAAS,CAACQ,IAAI,CAAC,WAAW,YAAY,aAAa,aAAa;QACtEH,WAAW;QACXI,cAAc;IAChB;IACAjB,WAAW;QACTO,MAAMC,oBAAS,CAACU,QAAQ;QACxBL,WAAW;IACb;IACAZ,SAAS;QACPM,MAAMC,oBAAS,CAACU,QAAQ;QACxBL,WAAW;IACb;IACAX,WAAW;QACTK,MAAMC,oBAAS,CAACC,OAAO;QACvBI,WAAW;QACXM,YAAY;YACVC,OAAOC,kBAAI;YACXC,KAAK;QACP;IACF;AACF,GACA;IACEC,WAAAA,cAAS;IACTC,WAAW;IACXC,SAAS;QACP;YACEC,QAAQ;gBAAC;gBAAQ;aAAS;QAC5B;KACD;AACH;MAMF,WAAehC"}